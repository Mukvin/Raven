database: raven_tpch_100_db
max_worker_num: 10000
queries:
- at_second: 0
  id: tpch-query-4-1.sql
  sql: "\n\nselect\n\to_orderpriority,\n\tcount(*) as order_count\nfrom\n\torders\n\
    where\n\tcast(o_orderdate as Date) >= date '1995-01-01'\n\tand cast(o_orderdate\
    \ as Date) < date '1995-01-01' + interval '3' month\n\tand exists (\n\t\tselect\n\
    \t\t\t*\n\t\tfrom\n\t\t\tlineitem\n\t\twhere\n\t\t\tl_orderkey = o_orderkey\n\t\
    \t\tand l_commitdate < l_receiptdate\n\t)\ngroup by\n\to_orderpriority\norder\
    \ by\n\to_orderpriority \n  \n"
- at_second: 1
  id: tpch-query-19-1.sql
  sql: "\n\nselect\n\tsum(l_extendedprice* (1 - l_discount)) as revenue\nfrom\n\t\
    lineitem,\n\tpart\nwhere\n\t(\n\t\tp_partkey = l_partkey\n\t\tand p_brand = 'Brand#45'\n\
    \t\tand p_container in ('SM CASE', 'SM BOX', 'SM PACK', 'SM PKG')\n\t\tand l_quantity\
    \ >= 1 and l_quantity <= 1 + 10\n\t\tand p_size between 1 and 5\n\t\tand l_shipmode\
    \ in ('AIR', 'AIR REG')\n\t\tand l_shipinstruct = 'DELIVER IN PERSON'\n\t)\n\t\
    or\n\t(\n\t\tp_partkey = l_partkey\n\t\tand p_brand = 'Brand#41'\n\t\tand p_container\
    \ in ('MED BAG', 'MED BOX', 'MED PKG', 'MED PACK')\n\t\tand l_quantity >= 10 and\
    \ l_quantity <= 10 + 10\n\t\tand p_size between 1 and 10\n\t\tand l_shipmode in\
    \ ('AIR', 'AIR REG')\n\t\tand l_shipinstruct = 'DELIVER IN PERSON'\n\t)\n\tor\n\
    \t(\n\t\tp_partkey = l_partkey\n\t\tand p_brand = 'Brand#25'\n\t\tand p_container\
    \ in ('LG CASE', 'LG BOX', 'LG PACK', 'LG PKG')\n\t\tand l_quantity >= 21 and\
    \ l_quantity <= 21 + 10\n\t\tand p_size between 1 and 15\n\t\tand l_shipmode in\
    \ ('AIR', 'AIR REG')\n\t\tand l_shipinstruct = 'DELIVER IN PERSON'\n\t) \n  \n"
- at_second: 2
  id: tpch-query-6-1.sql
  sql: "\n\nselect\n\tsum(l_extendedprice * l_discount) as revenue\nfrom\n\tlineitem\n\
    where\n\tcast(l_shipdate as Date) >= date '1993-01-01'\n\tand cast(l_shipdate\
    \ as Date) < date '1993-01-01' + interval '1' year\n\tand l_discount between 0.07\
    \ - 0.01 and 0.07 + 0.01\n\tand l_quantity < 25 \n  \n"
- at_second: 3
  id: tpch-query-2-1.sql
  sql: "\n\nselect\n\ts_acctbal,\n\ts_name,\n\tn_name,\n\tp_partkey,\n\tp_mfgr,\n\t\
    s_address,\n\ts_phone,\n\ts_comment\nfrom\n\tpart,\n\tsupplier,\n\tpartsupp,\n\
    \tnation,\n\tregion\nwhere\n\tp_partkey = ps_partkey\n\tand s_suppkey = ps_suppkey\n\
    \tand p_size = 9\n\tand p_type like '%COPPER'\n\tand s_nationkey = n_nationkey\n\
    \tand n_regionkey = r_regionkey\n\tand r_name = 'AMERICA'\n\tand ps_supplycost\
    \ = (\n\t\tselect\n\t\t\tmin(ps_supplycost)\n\t\tfrom\n\t\t\tpartsupp,\n\t\t\t\
    supplier,\n\t\t\tnation,\n\t\t\tregion\n\t\twhere\n\t\t\tp_partkey = ps_partkey\n\
    \t\t\tand s_suppkey = ps_suppkey\n\t\t\tand s_nationkey = n_nationkey\n\t\t\t\
    and n_regionkey = r_regionkey\n\t\t\tand r_name = 'AMERICA'\n\t)\norder by\n\t\
    s_acctbal desc,\n\tn_name,\n\ts_name,\n\tp_partkey \nlimit 100 \n"
- at_second: 4
  id: tpch-query-20-1.sql
  sql: "\n\nselect\n\ts_name,\n\ts_address\nfrom\n\tsupplier,\n\tnation\nwhere\n\t\
    s_suppkey in (\n\t\tselect\n\t\t\tps_suppkey\n\t\tfrom\n\t\t\tpartsupp\n\t\twhere\n\
    \t\t\tps_partkey in (\n\t\t\t\tselect\n\t\t\t\t\tp_partkey\n\t\t\t\tfrom\n\t\t\
    \t\t\tpart\n\t\t\t\twhere\n\t\t\t\t\tp_name like 'hot%'\n\t\t\t)\n\t\t\tand ps_availqty\
    \ > (\n\t\t\t\tselect\n\t\t\t\t\t0.5 * sum(l_quantity)\n\t\t\t\tfrom\n\t\t\t\t\
    \tlineitem\n\t\t\t\twhere\n\t\t\t\t\tl_partkey = ps_partkey\n\t\t\t\t\tand l_suppkey\
    \ = ps_suppkey\n\t\t\t\t\tand cast(l_shipdate as Date) >= date '1994-01-01'\n\t\
    \t\t\t\tand cast(l_shipdate as Date) < date '1994-01-01' + interval '1' year\n\
    \t\t\t)\n\t)\n\tand s_nationkey = n_nationkey\n\tand n_name = 'CHINA'\norder by\n\
    \ts_name \n  \n"
- at_second: 5
  id: tpch-query-22-1.sql
  sql: "\n\nselect\n\tcntrycode,\n\tcount(*) as numcust,\n\tsum(c_acctbal) as totacctbal\n\
    from\n\t(\n\t\tselect\n\t\t\tsubstring(c_phone from 1 for 2) as cntrycode,\n\t\
    \t\tc_acctbal\n\t\tfrom\n\t\t\tcustomer\n\t\twhere\n\t\t\tsubstring(c_phone from\
    \ 1 for 2) in\n\t\t\t\t('33', '13', '23', '27', '20', '16', '18')\n\t\t\tand c_acctbal\
    \ > (\n\t\t\t\tselect\n\t\t\t\t\tavg(c_acctbal)\n\t\t\t\tfrom\n\t\t\t\t\tcustomer\n\
    \t\t\t\twhere\n\t\t\t\t\tc_acctbal > 0.00\n\t\t\t\t\tand substring(c_phone from\
    \ 1 for 2) in\n\t\t\t\t\t\t('33', '13', '23', '27', '20', '16', '18')\n\t\t\t\
    )\n\t\t\tand not exists (\n\t\t\t\tselect\n\t\t\t\t\t*\n\t\t\t\tfrom\n\t\t\t\t\
    \torders\n\t\t\t\twhere\n\t\t\t\t\to_custkey = c_custkey\n\t\t\t)\n\t) as custsale\n\
    group by\n\tcntrycode\norder by\n\tcntrycode \n  \n"
- at_second: 6
  id: tpch-query-18-1.sql
  sql: "\n\nselect\n\tc_name,\n\tc_custkey,\n\to_orderkey,\n\to_orderdate,\n\to_totalprice,\n\
    \tsum(l_quantity)\nfrom\n\tcustomer,\n\torders,\n\tlineitem\nwhere\n\to_orderkey\
    \ in (\n\t\tselect\n\t\t\tl_orderkey\n\t\tfrom\n\t\t\tlineitem\n\t\tgroup by\n\
    \t\t\tl_orderkey having\n\t\t\t\tsum(l_quantity) > 313\n\t)\n\tand c_custkey =\
    \ o_custkey\n\tand o_orderkey = l_orderkey\ngroup by\n\tc_name,\n\tc_custkey,\n\
    \to_orderkey,\n\to_orderdate,\n\to_totalprice\norder by\n\to_totalprice desc,\n\
    \to_orderdate \nlimit 100 \n"
- at_second: 7
  id: tpch-query-7-1.sql
  sql: "\n\nselect\n\tsupp_nation,\n\tcust_nation,\n\tl_year,\n\tsum(volume) as revenue\n\
    from\n\t(\n\t\tselect\n\t\t\tn1.n_name as supp_nation,\n\t\t\tn2.n_name as cust_nation,\n\
    \t\t\textract(year from cast(l_shipdate as Date)) as l_year,\n\t\t\tl_extendedprice\
    \ * (1 - l_discount) as volume\n\t\tfrom\n\t\t\tsupplier,\n\t\t\tlineitem,\n\t\
    \t\torders,\n\t\t\tcustomer,\n\t\t\tnation n1,\n\t\t\tnation n2\n\t\twhere\n\t\
    \t\ts_suppkey = l_suppkey\n\t\t\tand o_orderkey = l_orderkey\n\t\t\tand c_custkey\
    \ = o_custkey\n\t\t\tand s_nationkey = n1.n_nationkey\n\t\t\tand c_nationkey =\
    \ n2.n_nationkey\n\t\t\tand (\n\t\t\t\t(n1.n_name = 'INDIA' and n2.n_name = 'MOZAMBIQUE')\n\
    \t\t\t\tor (n1.n_name = 'MOZAMBIQUE' and n2.n_name = 'INDIA')\n\t\t\t)\n\t\t\t\
    and cast(l_shipdate as Date) between date '1995-01-01' and date '1996-12-31'\n\
    \t) as shipping\ngroup by\n\tsupp_nation,\n\tcust_nation,\n\tl_year\norder by\n\
    \tsupp_nation,\n\tcust_nation,\n\tl_year \n  \n"
- at_second: 8
  id: tpch-query-5-1.sql
  sql: "\n\nselect\n\tn_name,\n\tsum(l_extendedprice * (1 - l_discount)) as revenue\n\
    from\n\tcustomer,\n\torders,\n\tlineitem,\n\tsupplier,\n\tnation,\n\tregion\n\
    where\n\tc_custkey = o_custkey\n\tand l_orderkey = o_orderkey\n\tand l_suppkey\
    \ = s_suppkey\n\tand c_nationkey = s_nationkey\n\tand s_nationkey = n_nationkey\n\
    \tand n_regionkey = r_regionkey\n\tand r_name = 'EUROPE'\n\tand cast(o_orderdate\
    \ as Date) >= date '1993-01-01'\n\tand cast(o_orderdate as Date) < date '1993-01-01'\
    \ + interval '1' year\ngroup by\n\tn_name\norder by\n\trevenue desc \n  \n"
- at_second: 9
  id: tpch-query-1-1.sql
  sql: "\n\nselect\n\tl_returnflag,\n\tl_linestatus,\n\tsum(l_quantity) as sum_qty,\n\
    \tsum(l_extendedprice) as sum_base_price,\n\tsum(l_extendedprice * (1 - l_discount))\
    \ as sum_disc_price,\n\tsum(l_extendedprice * (1 - l_discount) * (1 + l_tax))\
    \ as sum_charge,\n\tavg(l_quantity) as avg_qty,\n\tavg(l_extendedprice) as avg_price,\n\
    \tavg(l_discount) as avg_disc,\n\tcount(*) as count_order\nfrom\n\tlineitem\n\
    where\n\tcast(l_shipdate as Date) <= date '1998-12-01' - interval '64' day  \n\
    group by\n\tl_returnflag,\n\tl_linestatus\norder by\n\tl_returnflag,\n\tl_linestatus\
    \ \n  \n"
- at_second: 10
  id: tpch-query-3-1.sql
  sql: "\n\nselect\n\tl_orderkey,\n\tsum(l_extendedprice * (1 - l_discount)) as revenue,\n\
    \to_orderdate,\n\to_shippriority\nfrom\n\tcustomer,\n\torders,\n\tlineitem\nwhere\n\
    \tc_mktsegment = 'HOUSEHOLD'\n\tand c_custkey = o_custkey\n\tand l_orderkey =\
    \ o_orderkey\n\tand cast(o_orderdate as Date) < date '1995-03-28'\n\tand cast(l_shipdate\
    \ as Date) > date '1995-03-28'\ngroup by\n\tl_orderkey,\n\to_orderdate,\n\to_shippriority\n\
    order by\n\trevenue desc,\n\to_orderdate \nlimit 10 \n"
- at_second: 11
  id: tpch-query-21-1.sql
  sql: "\n\nselect\n\ts_name,\n\tcount(*) as numwait\nfrom\n\tsupplier,\n\tlineitem\
    \ l1,\n\torders,\n\tnation\nwhere\n\ts_suppkey = l1.l_suppkey\n\tand o_orderkey\
    \ = l1.l_orderkey\n\tand o_orderstatus = 'F'\n\tand l1.l_receiptdate > l1.l_commitdate\n\
    \tand exists (\n\t\tselect\n\t\t\t*\n\t\tfrom\n\t\t\tlineitem l2\n\t\twhere\n\t\
    \t\tl2.l_orderkey = l1.l_orderkey\n\t\t\tand l2.l_suppkey <> l1.l_suppkey\n\t\
    )\n\tand not exists (\n\t\tselect\n\t\t\t*\n\t\tfrom\n\t\t\tlineitem l3\n\t\t\
    where\n\t\t\tl3.l_orderkey = l1.l_orderkey\n\t\t\tand l3.l_suppkey <> l1.l_suppkey\n\
    \t\t\tand l3.l_receiptdate > l3.l_commitdate\n\t)\n\tand s_nationkey = n_nationkey\n\
    \tand n_name = 'ARGENTINA'\ngroup by\n\ts_name\norder by\n\tnumwait desc,\n\t\
    s_name \nlimit 100 \n"
- at_second: 12
  id: tpch-query-10-1.sql
  sql: "\n\nselect\n\tc_custkey,\n\tc_name,\n\tsum(l_extendedprice * (1 - l_discount))\
    \ as revenue,\n\tc_acctbal,\n\tn_name,\n\tc_address,\n\tc_phone,\n\tc_comment\n\
    from\n\tcustomer,\n\torders,\n\tlineitem,\n\tnation\nwhere\n\tc_custkey = o_custkey\n\
    \tand l_orderkey = o_orderkey\n\tand cast(o_orderdate as Date) >= date '1994-04-01'\n\
    \tand cast(o_orderdate as Date) < date '1994-04-01' + interval '3' month\n\tand\
    \ l_returnflag = 'R'\n\tand c_nationkey = n_nationkey\ngroup by\n\tc_custkey,\n\
    \tc_name,\n\tc_acctbal,\n\tc_phone,\n\tn_name,\n\tc_address,\n\tc_comment\norder\
    \ by\n\trevenue desc \nlimit 20 \n"
- at_second: 13
  id: tpch-query-12-1.sql
  sql: "\n\nselect\n\tl_shipmode,\n\tsum(case\n\t\twhen o_orderpriority = '1-URGENT'\n\
    \t\t\tor o_orderpriority = '2-HIGH'\n\t\t\tthen 1\n\t\telse 0\n\tend) as high_line_count,\n\
    \tsum(case\n\t\twhen o_orderpriority <> '1-URGENT'\n\t\t\tand o_orderpriority\
    \ <> '2-HIGH'\n\t\t\tthen 1\n\t\telse 0\n\tend) as low_line_count\nfrom\n\torders,\n\
    \tlineitem\nwhere\n\to_orderkey = l_orderkey\n\tand l_shipmode in ('SHIP', 'AIR')\n\
    \tand l_commitdate < l_receiptdate\n\tand l_shipdate < l_commitdate\n\tand cast(l_receiptdate\
    \ as Date) >= date '1995-01-01'\n\tand cast(l_receiptdate as Date) < date '1995-01-01'\
    \ + interval '1' year\ngroup by\n\tl_shipmode\norder by\n\tl_shipmode \n  \n"
- at_second: 14
  id: tpch-query-16-1.sql
  sql: "\n\nselect\n\tp_brand,\n\tp_type,\n\tp_size,\n\tcount(distinct ps_suppkey)\
    \ as supplier_cnt\nfrom\n\tpartsupp,\n\tpart\nwhere\n\tp_partkey = ps_partkey\n\
    \tand p_brand <> 'Brand#15'\n\tand p_type not like 'ECONOMY BURNISHED%'\n\tand\
    \ p_size in (21, 37, 33, 22, 28, 24, 29, 39)\n\tand ps_suppkey not in (\n\t\t\
    select\n\t\t\ts_suppkey\n\t\tfrom\n\t\t\tsupplier\n\t\twhere\n\t\t\ts_comment\
    \ like '%Customer%Complaints%'\n\t)\ngroup by\n\tp_brand,\n\tp_type,\n\tp_size\n\
    order by\n\tsupplier_cnt desc,\n\tp_brand,\n\tp_type,\n\tp_size \n  \n"
- at_second: 15
  id: tpch-query-9-1.sql
  sql: "\n\nselect\n\tnation,\n\to_year,\n\tsum(amount) as sum_profit\nfrom\n\t(\n\
    \t\tselect\n\t\t\tn_name as nation,\n\t\t\textract(year from cast(o_orderdate\
    \ as Date)) as o_year,\n\t\t\tl_extendedprice * (1 - l_discount) - ps_supplycost\
    \ * l_quantity as amount\n\t\tfrom\n\t\t\tpart,\n\t\t\tsupplier,\n\t\t\tlineitem,\n\
    \t\t\tpartsupp,\n\t\t\torders,\n\t\t\tnation\n\t\twhere\n\t\t\ts_suppkey = l_suppkey\n\
    \t\t\tand ps_suppkey = l_suppkey\n\t\t\tand ps_partkey = l_partkey\n\t\t\tand\
    \ p_partkey = l_partkey\n\t\t\tand o_orderkey = l_orderkey\n\t\t\tand s_nationkey\
    \ = n_nationkey\n\t\t\tand p_name like '%grey%'\n\t) as profit\ngroup by\n\tnation,\n\
    \to_year\norder by\n\tnation,\n\to_year desc \n  \n"
- at_second: 16
  id: tpch-query-14-1.sql
  sql: "\n\nselect\n\t100.00 * sum(case\n\t\twhen p_type like 'PROMO%'\n\t\t\tthen\
    \ l_extendedprice * (1 - l_discount)\n\t\telse 0\n\tend) / sum(l_extendedprice\
    \ * (1 - l_discount)) as promo_revenue\nfrom\n\tlineitem,\n\tpart\nwhere\n\tl_partkey\
    \ = p_partkey\n\tand cast(l_shipdate as Date) >= date '1995-09-01'\n\tand cast(l_shipdate\
    \ as Date) < date '1995-09-01' + interval '1' month \n  \n"
- at_second: 17
  id: tpch-query-13-1.sql
  sql: "\n\nselect\n\tc_count,\n\tcount(*) as custdist\nfrom\n\t(\n\t\tselect\n\t\t\
    \tc_custkey,\n\t\t\tcount(o_orderkey)\n\t\tfrom\n\t\t\tcustomer left outer join\
    \ orders on\n\t\t\t\tc_custkey = o_custkey\n\t\t\t\tand o_comment not like '%pending%requests%'\n\
    \t\tgroup by\n\t\t\tc_custkey\n\t) as c_orders (c_custkey, c_count)\ngroup by\n\
    \tc_count\norder by\n\tcustdist desc,\n\tc_count desc \n  \n"
- at_second: 18
  id: tpch-query-11-1.sql
  sql: "\n\nselect\n\tps_partkey,\n\tsum(ps_supplycost * ps_availqty) as value\nfrom\n\
    \tpartsupp,\n\tsupplier,\n\tnation\nwhere\n\tps_suppkey = s_suppkey\n\tand s_nationkey\
    \ = n_nationkey\n\tand n_name = 'CANADA'\ngroup by\n\tps_partkey having\n\t\t\
    sum(ps_supplycost * ps_availqty) > (\n\t\t\tselect\n\t\t\t\tsum(ps_supplycost\
    \ * ps_availqty) * 0.0000010000\n\t\t\tfrom\n\t\t\t\tpartsupp,\n\t\t\t\tsupplier,\n\
    \t\t\t\tnation\n\t\t\twhere\n\t\t\t\tps_suppkey = s_suppkey\n\t\t\t\tand s_nationkey\
    \ = n_nationkey\n\t\t\t\tand n_name = 'CANADA'\n\t\t)\norder by\n\tvalue desc\
    \ \n  \n"
- at_second: 19
  id: tpch-query-15-1.sql
  sql: select count(*) from lineitem
- at_second: 20
  id: tpch-query-17-1.sql
  sql: "\n\nselect\n\tsum(l_extendedprice) / 7.0 as avg_yearly\nfrom\n\tlineitem,\n\
    \tpart\nwhere\n\tp_partkey = l_partkey\n\tand p_brand = 'Brand#51'\n\tand p_container\
    \ = 'MED JAR'\n\tand l_quantity < (\n\t\tselect\n\t\t\t0.2 * avg(l_quantity)\n\
    \t\tfrom\n\t\t\tlineitem\n\t\twhere\n\t\t\tl_partkey = p_partkey\n\t) \n  \n"
- at_second: 21
  id: tpch-query-8-1.sql
  sql: "\n\nselect\n\to_year,\n\tsum(case\n\t\twhen nation = 'INDIA' then volume\n\
    \t\telse 0\n\tend) / sum(volume) as mkt_share\nfrom\n\t(\n\t\tselect\n\t\t\textract(year\
    \ from cast(o_orderdate as Date)) as o_year,\n\t\t\tl_extendedprice * (1 - l_discount)\
    \ as volume,\n\t\t\tn2.n_name as nation\n\t\tfrom\n\t\t\tpart,\n\t\t\tsupplier,\n\
    \t\t\tlineitem,\n\t\t\torders,\n\t\t\tcustomer,\n\t\t\tnation n1,\n\t\t\tnation\
    \ n2,\n\t\t\tregion\n\t\twhere\n\t\t\tp_partkey = l_partkey\n\t\t\tand s_suppkey\
    \ = l_suppkey\n\t\t\tand l_orderkey = o_orderkey\n\t\t\tand o_custkey = c_custkey\n\
    \t\t\tand c_nationkey = n1.n_nationkey\n\t\t\tand n1.n_regionkey = r_regionkey\n\
    \t\t\tand r_name = 'ASIA'\n\t\t\tand s_nationkey = n2.n_nationkey\n\t\t\tand cast(o_orderdate\
    \ as Date) between date '1995-01-01' and date '1996-12-31'\n\t\t\tand p_type =\
    \ 'MEDIUM POLISHED TIN'\n\t) as all_nations\ngroup by\n\to_year\norder by\n\t\
    o_year \n  \n"
